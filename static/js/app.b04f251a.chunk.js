(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{245:function(e,t,n){e.exports=n(321)},321:function(e,t,n){"use strict";n.r(t);var r=n(328),a=n(0),o=n.n(a),i=n(173),c=n(202),l=n(326),u=n(28),s=n(327),f=n(38),m=n(42),p=n(25),d=n(4),v=n(201),g=n(325),E=function(e){var t=e.children;return o.a.createElement(g.a,{style:[b]},t)},b={justifyContent:"flex-start",alignItems:"stretch",height:"100%",width:"100%",padding:16,flex:1,backgroundColor:"#fff"},y=["https://medium.com/feed/@reime005","https://hnrss.org/newest?q=ReactNative","https://www.reddit.com/.rss","http://www.nasa.gov/rss/dyn/breaking_news.rss"],h=function(e){var t=Object(f.useNavigation)().navigate;return o.a.createElement(E,null,o.a.createElement(m.a,{data:y,keyExtractor:function(e){return e},ItemSeparatorComponent:function(){return o.a.createElement(d.a,{style:{height:16}})},renderItem:function(e){return o.a.createElement(v.a,{onPress:function(){t("Feed",{feedURL:e.item})},style:{padding:24,backgroundColor:"#fff",borderWidth:2,borderColor:"#ccc",borderRadius:24}},o.a.createElement(p.a,null,e.item))}}))},O=n(2),w=n.n(O),S=n(98),j=n(66),P=n(8),I=n(46),R=n(13),F=n.n(R),k=n(198),x=n(20),L=n.n(x);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=o.a.useState(null),n=F()(t,2),r=n[0],a=n[1],i=o.a.useState(null),c=F()(i,2),l=c[0],u=c[1],s=o.a.useState(!1),f=F()(s,2),m=f[0],p=f[1],d=o.a.useState(!1),v=F()(d,2),g=v[0],E=v[1];return o.a.useEffect((function(){if(!("string"!==typeof e||e.length<1)){var t="web"===P.a.OS?"https://peaceful-escarpment-39895.herokuapp.com/":"";p(!0),fetch(t+e).then((function(e){return e.text()})).then((function(e){return k.parse(e)})).then((function(e){u({title:e.title});var t,n=e.items.map((function(e){var t,n,r,a={date:e.published,description:null!=(t=e.description)?t:"",title:e.title,url:null!=(n=null==(r=e.links.find((function(e){return"string"===typeof e.url})))?void 0:r.url)?n:""};return D(D({},a),{},{description:a.description.substr(0,130)})}));a((t=n,L()(t).sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}))))})).catch((function(e){E(e)})).finally((function(){p(!1)}))}}),[e]),{feedEntries:r,feedInfo:l,isLoading:m,isError:g}},U=n(121),T=n(27),B=n.n(T),J=n(174);var W=function(){var e=o.a.useState([]),t=F()(e,2),n=t[0],r=t[1];return o.a.useEffect((function(){(function(e){var t;return B.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.a.awrap(J.a.getItem(e));case 3:if(t=n.sent){n.next=6;break}return n.abrupt("return",null);case 6:return n.abrupt("return",JSON.parse(t));case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",null);case 12:case"end":return n.stop()}}),null,null,[[0,9]],Promise)})("FAVORITES").then((function(e){r(null!=e?e:[])})).catch((function(e){return console.warn(e)}))}),[]),o.a.useEffect((function(){var e,t;(e="FAVORITES",t=n,B.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,B.a.awrap(J.a.setItem(e,JSON.stringify(t)));case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",!1);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)).then((function(){return console.log("saved favorite")})).catch((function(e){return console.warn(e)}))}),[n]),{favItems:n,addFavItem:function(e){r([].concat(L()(n),[e]))}}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t,n=e.route,r=Object(f.useNavigation)(),a=r.navigate,i=r.setOptions,c=N(null==(t=n.params)?void 0:t.feedURL),l=c.feedEntries,u=c.feedInfo,s=c.isError,v=c.isLoading,g=W(),b=(g.favItems,g.addFavItem);return o.a.useEffect((function(){"string"===typeof(null==u?void 0:u.title)&&i({title:u.title})}),[u]),s?o.a.createElement(E,null,o.a.createElement(p.a,null,"There was an error, please try again.")):v?o.a.createElement(E,null,o.a.createElement(d.a,{style:{flex:1,justifyContent:"space-around",alignItems:"center"}},o.a.createElement(p.a,null,"loading feed...."),o.a.createElement(S.a,{color:"#000",size:"large"}))):o.a.createElement(E,null,o.a.createElement(m.a,{data:l,keyExtractor:function(e,t){return t+"-"+e.title},ItemSeparatorComponent:function(){return o.a.createElement(d.a,{style:{height:16}})},renderItem:function(e){var t,n,r;return o.a.createElement(I.a,{onPress:function(){"web"!==P.a.OS?a("FeedDetails",{feedEntryURL:e.item.url}):j.a.openURL(e.item.url)},onLongPress:function(){return b(e.item)},style:{padding:24,backgroundColor:"#fff",borderWidth:2,borderColor:"#ccc",borderRadius:24}},o.a.createElement(p.a,{style:q},null==(t=e.item)?void 0:t.title),o.a.createElement(U.a,{value:null==(n=e.item)?void 0:n.description,style:{marginBottom:8},stylesheet:{p:M,a:M}}),o.a.createElement(p.a,{style:_},null==(r=e.item)?void 0:r.date))}}))},q={fontSize:16,fontWeight:"bold",marginBottom:8},M={fontSize:14,marginBottom:8},_=A(A({},M),{},{color:"#747474",marginBottom:0}),G=n(203),H=function(e){var t,n=o.a.useState(!1),r=F()(n,2),a=r[0],i=r[1],c=null==(t=e.route.params)?void 0:t.feedEntryURL;return"string"!==typeof c?(console.warn("wrong uri"),null):a?o.a.createElement(E,null,o.a.createElement(p.a,null,"There was an error, please try again.")):o.a.createElement(d.a,{style:{flex:1}},o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{source:{uri:c},onError:function(){i(!0)},startInLoadingState:!0,style:{flex:1}})))},K=function(){var e=W().favItems,t=Object(f.useNavigation)().navigate;return o.a.createElement(E,null,o.a.createElement(m.a,{data:e,ListEmptyComponent:function(){return o.a.createElement(p.a,null,"No favorites found.")},keyExtractor:function(e,t){return t+"-"+e.title},ItemSeparatorComponent:function(){return o.a.createElement(d.a,{style:{height:16}})},renderItem:function(e){var n,r,a;return o.a.createElement(I.a,{onPress:function(){"web"!==P.a.OS?t("FeedDetails",{feedEntryURL:e.item.url}):j.a.openURL(e.item.url)},style:{padding:24,backgroundColor:"#fff",borderWidth:2,borderColor:"#ccc",borderRadius:24}},o.a.createElement(p.a,{style:q},null==(n=e.item)?void 0:n.title),o.a.createElement(U.a,{value:null==(r=e.item)?void 0:r.description,style:{marginBottom:8},stylesheet:{p:M,a:M}}),o.a.createElement(p.a,{style:_},null==(a=e.item)?void 0:a.date))}}))},Q=Object(s.a)(),X=function(){return o.a.createElement(Q.Navigator,{screenOptions:{title:"RSS Feed List",headerShown:!0,headerRight:function(){return o.a.createElement(Y,null)}}},o.a.createElement(Q.Screen,{name:"FeedOverview",component:h,options:{title:"RSS Feed List"}}),o.a.createElement(Q.Screen,{name:"Favorite",component:K,options:{title:"RSS Favorite List"}}),o.a.createElement(Q.Screen,{name:"Feed",component:V,options:{}}),o.a.createElement(Q.Screen,{name:"FeedDetails",component:H,options:{title:"",headerRight:void 0}}))},Y=function(){var e=Object(u.useNavigation)().navigate;return o.a.createElement(I.a,{style:{padding:8},onPress:function(){e("Favorite")}},o.a.createElement(p.a,null,"\u2764\ufe0f"))};Object(r.a)((function(){return o.a.createElement(c.b,{initialMetrics:l.a},o.a.createElement(i.a,null,o.a.createElement(X,null)))}))}},[[245,1,2]]]);
//# sourceMappingURL=app.b04f251a.chunk.js.map